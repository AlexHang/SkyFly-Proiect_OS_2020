<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Flights</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <style>

        #header{
            width:100%;
            background-color:#14609b;
            padding:25px;
            color:white;
        }

        #header a{
            margin-top:25px;
            color:white;
            font-size:16px;
        }

        #hero{
             background: url("https://frontera.net/wp-content/uploads/2017/11/bigstock-Landscape-With-White-Passenger-192652528.jpg") no-repeat center center fixed;
              -webkit-background-size: cover;
              -moz-background-size: cover;
              -o-background-size: cover;
              background-size: cover;
              padding-top:100px;
              padding-bottom:50px;
        }

        #footer{
            margin-top:50px;
            width:100%;
            background-color:#14609b;
            padding:50px;
            color:white;
        }

    </style>

</head>

<body>

        <div id="header">
            <div class="container-fluid">
                 <div class="col-sm-2">
                    <h1>SkyFly</h1>
                </div>
                <div class="col-sm-1" style="padding-top:25px;">
                    <a href="flights" >Fights</a>
                </div>
                <div class="col-sm-1" style="padding-top:25px;">
                    <a href="offers" >Offers</a>
                </div>
                <div class="col-sm-1" style="padding-top:25px;">
                    <a href="clients" >Clients</a>
                </div>
                <div class="col-sm-1" style="padding-top:25px;">
                    <a href="employees" >Employees</a>
                </div>
                <div class="col-sm-1" style="padding-top:25px;">
                    <a href="meetings">Meetings</a>
                </div>
            </div>
        </div>

        <div id="hero" style="width:100%;">
            <div class="container">
                <center><h1 style="color:white;">Flights</h1></center>

                <div class="row">
                    <div class="col-sm-4">
                       <form style="background-color:#14609b; border-radius:5px; padding:10px; color:white;"  method="get" action="addFlight">
                           <h4>Add a new Flight</h4>
                            <div class="form-group">
                                <label for="date">Flight Date</label>
                                <input type="date" name="date" class="form-control" id="date" required>
                            </div>
                            <div class="form-group">
                                <label for="departure">Departure</label>
                                <input type="text" name="departure" class="form-control" id="departure" required>
                            </div>
                            <div class="form-group">
                                <label for="landing">Landing</label>
                                <input type="text" name="landing" class="form-control" id="landing" required>
                            </div>
                            <div class="form-group">
                                <label for="price">Price</label>
                                <input type="number" name="price" class="form-control" id="price" required>
                            </div>
                           <div class="form-group">
                                <center>
                                    <input type="submit" class="btn btn-default" value="Trimite">
                                </center>
                            </div>
                        </form>
                    </div>
                </div>
        </div>


    </div>

    <div class="container" style="margin-top:100px;">

        <div class="row">

            <div class="col-sm-6">
                <img src="https://www.flightradar24.com/blog/wp-content/uploads/2020/04/World-April.jpg" style="width:100%;">
            </div>

            <div class="col-sm-6">
                <h4>Current Flights</h4>
                <table class="table table-striped" id="mainTable">

                </table>
            </div>
        </div>

    </div>

     <div id="footer">
        <div class="row">
            <div class="col-sm-3" style="text-align:right;">
                <h1>SkyFly</h1>
                <h4>FILS UPB</h4>
                <h4>2020</h4>
            </div>
            <div class="col-sm-6">
                <center>
                    <h1>OS Project</h1>
                </center>
            </div>
            <div class="col-sm-3">
                <h4>Hang Alexandru</h4>
                <h4>Duta Claudia</h4>
                <h4>Biculescu Cezar</h4>
                <h4>Puskas Imola</h4>
                <h4>Egri Szabolcs</h4>
            </div>
        </div>
     </div>

    <script>
        var table = document.getElementById("mainTable");


         $.get("http://127.0.0.1:8000/SkyFly/getFlights", function(data, status){
            var response = JSON.parse(data);
            console.log(response);
            table.innerHTML='<thead><tr><th>Date</th><th>Departure</th><th>Landing</th><th>Price</th></tr></thead>';
            for(var i=0;i <response.length; i++){

                console.log(response[i]["fields"]["departure"]);
                table.innerHTML+='<tr><td>'+response[i]["fields"]["date"]+'</td><td>'+response[i]["fields"]["departure"]+'</td><td>'+response[i]["fields"]["landing"]+'</td><td>'+response[i]["fields"]["price"]+'</td></tr>';

            }


          });

    </script>


</body>
</html>