<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Offers</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <style>

        #header{
            width:100%;
            background-color:#14609b;
            padding:25px;
            color:white;
        }

        #header a{
            margin-top:25px;
            color:white;
            font-size:16px;
        }

        #hero{
             background: url("https://s23527.pcdn.co/wp-content/uploads/2019/01/Aquamarine.jpg.optimal.jpg") no-repeat center center fixed;
              -webkit-background-size: cover;
              -moz-background-size: cover;
              -o-background-size: cover;
              background-size: cover;
              padding-top:100px;
              padding-bottom:50px;
              /*https://wallpaperaccess.com/full/99173.jpg*/

        }

        #footer{
            margin-top:50px;
            width:100%;
            background-color:#14609b;
            padding:50px;
            color:white;
        }

    </style>

</head>

<body>

        <div id="header">
            <div class="container-fluid">
                <div class="col-sm-2">
                    <h1>SkyFly</h1>
                </div>
                <div class="col-sm-1" style="padding-top:25px;">
                    <a href="flights" >Fights</a>
                </div>
                <div class="col-sm-1" style="padding-top:25px;">
                    <a href="offers" >Offers</a>
                </div>
                <div class="col-sm-1" style="padding-top:25px;">
                    <a href="clients" >Clients</a>
                </div>
                <div class="col-sm-1" style="padding-top:25px;">
                    <a href="employees" >Employees</a>
                </div>
                <div class="col-sm-1" style="padding-top:25px;">
                    <a href="meetings">Meetings</a>
                </div>
            </div>
        </div>

        <div id="hero" style="width:100%;">
            <div class="container">
                <center><h1 style="color:white;">Offers</h1></center>

                <div class="row">
                    <div class="col-sm-4">
                       <form style="background-color:#14609b; border-radius:5px; padding:10px; color:white;" method="get" action="addOffer">
                           <h4>Add a new Offer</h4>
                            <div class="form-group">
                                <label for="client">Client</label>
                                <input type="text" name="client" class="form-control" id="client" required>
                            </div>
                            <div class="form-group">
                                <label for="flight">Flight</label>
                                <input type="text" name="flight" class="form-control" id="flight" required>
                            </div>
                            <div class="form-group">
                                <label for="discount">Discount</label>
                                <input type="text" name="discount" class="form-control" id="discount" required>
                            </div>
                            <div class="form-group">
                                <center>
                                    <input type="submit" class="btn btn-default" value="Trimite">
                                </center>
                            </div>
                        </form>
                    </div>
                </div>
        </div>


    </div>

    <div class="container" style="margin-top:100px;">

        <div class="row">

            <div class="col-sm-6">
                <img src="https://secureservercdn.net/160.153.138.53/g8q.18e.myftpupload.com/wp-content/uploads/2019/08/travelling-smart-tips-for-travel-750x632.jpg" style="width:100%;">
            </div>

            <div class="col-sm-6">
                <h4>Current offers</h4>
                <table class="table table-striped" id="mainTable">

                </table>
            </div>
        </div>

    </div>

     <div id="footer">
        <div class="row">
            <div class="col-sm-3" style="text-align:right;">
                <h1>SkyFly</h1>
                <h4>FILS UPB</h4>
                <h4>2020</h4>
            </div>
            <div class="col-sm-6">
                <center>
                    <h1>OS Project</h1>
                </center>
            </div>
            <div class="col-sm-3">
                <h4>Hang Alexandru</h4>
                <h4>Duta Claudia</h4>
                <h4>Biculescu Cezar</h4>
                <h4>Puskas Imola</h4>
                <h4>Egri Szabolcs</h4>
            </div>
        </div>
     </div>

    <script>
        var table = document.getElementById("mainTable");


         $.get("http://127.0.0.1:8000/SkyFly/getOffers", function(data, status){
            var response = JSON.parse(data);
            console.log(response);
            table.innerHTML='<thead><tr><th>Id</th><th>Client</th><th>Flight</th><th>Discount</th></tr></thead>';
            for(var i=0;i <response.length; i++){

                console.log(response[i]["fields"]["departure"]);
                table.innerHTML+='<tr><td>'+response[i]["pk"]+'</td><td>'+response[i]["fields"]["client"]+'</td><td>'+response[i]["fields"]["flight"]+'</td><td>'+response[i]["fields"]["discount"]+'</td></tr>';

            }


          });

    </script>


</body>
</html>